<style>
	.panel-heading li {
		width: 15%;
	}
	.panel-heading li > a {
		height: 100px;
	}
	.padding {
		padding: 20px;
	}
	.h145 {
		height: 145px;
	}
</style>

<!-- 导航条 -->
<div class="bg-white bread-crumb">
  <ul class="breadcrumb b-a m-b-n-xs lter b-b wrapper-md">
    <li><a ui-sref="main.partyner"><i class="fa fa-home">&nbsp;</i>工作面板</a></li>
    <li class="active" ng-bind="title">党委工作台</li>
  </ul>
</div>

<!-- 内容区域 -->
<div ng-hide="loading" class="wrapper-md content">
  <!-- 数据显示 -->
  <div class="wrapper-data">
    <div class="panel panel-default" style="background-color: #f6f8f8">
      <!-- 头部 -->
      <div class="panel-heading clearfix m-b-sm" style="background-color: #fff">
      	<ul class="m-n p-n">
      		<li class="pull-left border-right">
      			<a href="" class="block full-width text-center">
      				<img src="./res/img/system/工作部署.png" alt="">
      				<span class="block m-t-sm" style="font-size: 20px; color: #809bb1">工作部署</span>
      			</a>
      		</li>
      		<li class="pull-left">
      			<a ng-click="showWorkLayer('通知')" class="block full-width text-center">
      				<img src="./res/img/system/通知.png" alt="" class="m-t-xs" style="height: 90%">
      			</a>
      		</li>
      		<li class="pull-left">
      			<a ng-click="showWorkLayer('会议')" class="block full-width text-center">
      				<img src="./res/img/system/会议.png" alt="" class="m-t-xs" style="height: 90%">
      			</a>
      		</li>
      		<li class="pull-left">
						<a ng-click="showWorkLayer('活动')" class="block full-width text-center">
      				<img src="./res/img/system/活动.png" alt="" class="m-t-xs" style="height: 90%">
      			</a>
      		</li>
      		<li class="pull-left">
      			<a ng-click="showWorkLayer('任务')" class="block full-width text-center">
      				<img src="./res/img/system/任务.png" alt="" class="m-t-xs" style="height: 90%">
      			</a>
      		</li>
      	</ul>
      </div>

      <div class="org-m-t20 padding white-bg">
      	<div class="row">
	      	<div class="col-sm-4 text-center h145 m-b-sm">
	      		<a href="" class="block full-width">
	      			<img src="./res/img/system/微传递.png" alt="" class="m-t-xs" style="height: 90%">
	      		</a>
	      	</div>
	      	<div class="col-sm-4 text-center h145">
		      	<a href="" class="block full-width">
		      		<img src="./res/img/system/微党课.png" alt="" class="m-t-xs" style="height: 90%">
		      	</a>
	      	</div>
	      	<div class="col-sm-4 text-center h145">
		      	<a href="" class="block full-width">
		      		<img src="./res/img/system/计划总结z.png" alt="" class="m-t-xs" style="height: 90%">
		      	</a>
	      	</div>
      	</div>

      	<div class="row">
	      	<div class="col-sm-4 text-center h145 m-b-sm">
		      	<a href="" class="block full-width">
		      		<img src="./res/img/system/党员身边无违章无事故.png" alt="" class="m-t-xs" style="height: 90%">
	      		</a>
	      	</div>
	      	<div class="col-sm-4 text-center h145">
		      	<a href="" class="block full-width">
		      		<img src="./res/img/system/精彩推荐.png" alt="" class="m-t-xs" style="height: 90%">
	      		</a>
	      	</div>
	      	<div class="col-sm-4 text-center h145">
		      	<a href="" class="block full-width">
		      		<img src="./res/img/system/管理制度.png" alt="" class="m-t-xs" style="height: 90%">
	      		</a>
	      	</div>
      	</div>
      </div>
    </div>
  </div>
</div>


<div style="height: 1px; overflow: hidden">
	<div id="workLayer">

		<div ng-show="showNoticeLayer">
			<div class="text-center m-t-sm m-b-sm">
				<a class="btn btn-info" ng-bind="layerTitle" ui-sref="main.party.noticeAdd" ng-click="hideLayer()"></a>
			</div>

			<div class="table-responsive p-xs">
				<span>最近通知</span>
	      <table class="table text-center m-t-sm">
	        <tr ng-repeat="item in layerData">
	          <td class="text-left">{{ item.count }}</td>
	          <td title="{{item.title}}">
	          	{{  item.title | cut:true:10:' ...' }}
	          </td>
	          <td>
	          	<a ui-sref="main.party.noticeReadList({id: item.id,title:item.title})" ng-click="hideLayer()">
		          	{{ item.readCount }}/{{ item.sendCount }}
		          </a>
		        </td>
	          <td>{{ item.createTime }}</td>
	        </tr>
	      </table>
			</div>
			<div class="p-sm text-right"><a ui-sref="main.party.notice" ng-click="hideLayer()">查看更多...</a></div>
		</div>
			
		<div ng-show="showMeetingLayer">
			<div class="text-center m-t-sm m-b-sm">
				<a class="btn btn-info" ng-bind="layerTitle" ui-sref="main.lifes.meetingAdd({status: ''})" ng-click="hideLayer()" ng-show="hasMeetUpdate"></a>
			</div>

			<div class="table-responsive p-xs">
				<span>最近会议</span>
	      <table class="table text-center m-t-sm">
	        <tr ng-repeat="item in layerData">
	          <td >
              <span ng-show="item.status==1" class="text-danger">进行中</span>
              <span ng-show="item.status==2">已结束</span>
              <span ng-show="item.status==-1">未开始</span>
	          </td>
	          <td class="text-left" title="{{item.mname}}">{{  item.mname | cut:true:10:' ...' }}</td>
	          <td >{{ item.hashere }}/{{ item.allhere}}</td>
	          <td>
		          <button class="btn btn-outline blue btn-xs m-r-10" ng-click="showEWM(item.id)">二维码</button>
		          <button class="btn btn-outline blue btn-xs m-r-10" ui-sref="main.lifes.meetingDetail({id: item.id})" ng-click="hideLayer()">详情</button>
		          <button class="btn btn-outline blue btn-xs m-r-10" ui-sref="main.lifes.meetingAdd({id: item.id})" ng-click="hideLayer()" ng-show="item.allowEdit==1 && hasMeetUpdate">编辑</button>
		          <button class="btn btn-outline blue  btn-xs m-r-10" ui-sref="main.lifes.meetingRecord({id: item.id})" ng-click="hideLayer()" ng-show="item.allowEditRemark==1 && hasMeetUpdate">添加事项</button>
		          <button class="btn btn-outline red  btn-xs m-r-10" ng-click="delMeeting(item.id, $event)" ng-show="item.allowDelete==1 && hasMeetDelete">删除</button>
		      	</td>
	        </tr>
	      </table>
			</div>
			<div class="p-sm text-right"><a ui-sref="main.life.meeting" ng-click="hideLayer()">查看更多...</a></div>
		</div>

		<div ng-show="showActiveLayer">
			<div class="text-center m-t-sm m-b-sm">
				<a class="btn btn-info" ng-bind="layerTitle" ui-sref="main.lifes.activityAdd({typeId: 1})" ng-click="hideLayer()"></a>
			</div>

			<div class="table-responsive p-xs">
				<span>最近活动</span>
	      <table class="table text-center m-t-sm">
	        <tr ng-repeat="item in layerData">
	          <td>{{ item.statusName }}</td>
	          <td class="text-left" title="{{item.aname}}">{{  item.aname | cut:true:10:' ...' }} </td>
	          <td>{{ item.allowsignName }}</td>
	          <td>
		          <button class="btn btn-outline blue btn-xs m-r-10" ui-sref="main.lifes.signList({id: item.id, typeId: ActiveType})" ng-click="hideLayer()" ng-show="{{ item.allowsign != 0 }}">查看报名</button>
		          <button class="btn btn-outline blue btn-xs m-r-10" ui-sref="main.lifes.activityUpdate({id: item.id, typeId: ActiveType})" ng-click="hideLayer()" ng-show="{{ item.allowEdit == 1 && item.state == 0 && hasActiveUpdate}}">编辑</button>
		          <button class="btn btn-outline blue btn-xs m-r-10" ui-sref="main.lifes.activityDetail({id: item.id, typeId: ActiveType})" ng-click="hideLayer()" ng-show="{{ item.state != 0 }}">详情</button>
		          <button class="btn btn-outline blue btn-xs m-r-10" ui-sref="main.lifes.fcAdd({id: item.id, typeId: ActiveType})" ng-click="hideLayer()" ng-show="{{ item.allowEdit == 1 && item.state != 0 && hasActiveUpdate}}">活动风采</button>
		          <button ng-show="{{ item.allowEdit == 1 && item.state == 0 && hasActiveDelete }}" class="btn btn-outline red  btn-xs m-r-10" ng-click="delActive(item.id, $event)">删除</button>
		      	</td>
	        </tr>
	      </table>
			</div>
			<div class="p-sm text-right"><a ui-sref="main.life.active.1" ng-click="hideLayer()">查看更多...</a></div>
		</div>

		<div ng-show="showDutyLayer">
			<div class="text-center m-t-sm m-b-sm">
				<a class="btn btn-info" ng-bind="layerTitle" ui-sref="main.party.taskForm" ng-click="hideLayer()"></a>
			</div>

			<div class="table-responsive p-xs">
				<span>最近任务</span>
	      <table class="table text-center m-t-sm">
	        <tr ng-repeat="item in layerData">
	          <td class="text-left">{{ item.count }}</td>
	          <td title="{{item.title}}">
	          	{{  item.title | cut:true:10:' ...' }}
	          </td>
	          <td><a ui-sref="main.party.noticeReadList({id: item.id,title:item.title})" ng-click="hideLayer()">{{item.readCount}}/{{item.sendCount}}</a></td>
	          <td>{{ item.createTime }}</td>
	        </tr>
	      </table>
			</div>
			<div class="p-sm text-right"><a ui-sref="main.party.task" ng-click="hideLayer()">查看更多...</a></div>
		</div>

	</div>
</div>

<!-- 会议二维码弹出层 -->
<div style="height:1px;overflow:hidden;">
	<div class="panel panel-default" id="ewmHTML">
		<div class="row org-m-t20 m-l-none m-r-none">
			<div class="table-responsive">
				<table class="table table-striped b-t b-light text-center">
					<thead>
						<tr>
						<th>二维码边长(cm)</th>
						<th>建议扫描距离(m)</th>
						<th>下载链接</th></tr></thead>
						<tbody>
							<tr ng-repeat="item in ewmList">
								<td>{{ item.codeText }}</td>
								<td>{{ item.remark }}</td>
								<td><a ng-click="download(item.code)">预览</a></td>
							</tr>
						</tbody> 
					</table>
				</div> 
			</div> 
		</div> 

		<div class="text-center" id="downMsg"> 
			<img id="image" style="display: inline-block; width: 200px; height: 180px; margin-top: 30px"/>
			<a href="" id="down" style="display: block; margin: 0 auto;">点击下载</a>
		</div>
	</div>
</div>